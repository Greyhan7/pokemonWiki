<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>!!í¬ì¼“ëª¬ ë„ê°!!</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/list.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script type="text/javascript" src="/js/searchPokemon.js"></script>
    <script type="text/javascript" src="/js/getPokemonList.js" ></script>
</head>
<body>
<div id="search_box">
    <input id="pokemonName" type="text" placeholder="í¬ì¼“ëª¬ ì´ë¦„">
    <button id="btn_search">ğŸ”</button>
    <button class="btn_gen" data-gen="1">1ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="2">2ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="3">3ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="4">4ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="5">5ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="6">6ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="7">7ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="8">8ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
    <button class="btn_gen" data-gen="9">9ì„¸ëŒ€ í¬ì¼“ëª¬ ì¶œë ¥</button>
</div>
<div id="pokemonBox" class="pokemonBox">
</div>
</body>
<script src="/pokemon_species_names.js" type="text/javascript"></script>
<script>
    const translator = JSON.parse(JSON.stringify(data));
    $(function(){
        // í¬ì¼“ëª¬ í•œê¸€ ì´ë¦„ì„ í¬ì¼“ëª¬ idë¡œ ë°˜í™˜
        let translate_KorToId = function (name_kor){
            let id = _.find(translator, function(data){
                if(data.name==name_kor){
                    return data;
                }
            });
            return id.pokemon_species_id;
        };

        getPokemonList(1,151);

        // ë²„íŠ¼ ëˆ„ë¥´ë©´ ì„¸ëŒ€ë³„ë¡œ í¬ì¼“ëª¬ ì¶œë ¥
        $(document).on('click', '.btn_gen', function(){
            const ranges = [
                [1, 151],
                [152, 251],
                [252, 386],
                [387, 493],
                [494, 649],
                [650, 721],
                [722, 809],
                [810, 905],
                [906, 1010]
            ];
            const gen = $(this).data('gen');
            const range = ranges[gen - 1];
            if (range) {
                getPokemonList(range[0], range[1]);
            } else {
                console.error('Invalid generation');
            }
        });

        // ê²€ìƒ‰ ì´ë²¤íŠ¸
        let search_pokemon = "";
        $(document).on('click', '#btn_search', function(){
            search_pokemon = translate_KorToId(document.getElementById('pokemonName').value);
            searchPokemon(search_pokemon);
        })

    }); // ì „ì²´ function
</script>
</html>